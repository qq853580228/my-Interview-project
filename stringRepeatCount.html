<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    // function stringRepeatCount(str) {
    //   if (!str.trim()) return '';
    //   const obj = {};
    //   for (let i = 0; i < str.length; i++) {
    //     const char = str[i];
    //     if (!obj[char]) {
    //       obj[char] = 1;
    //     } else {
    //       obj[char]++;  
    //     }
    //   }
    //   let newStr = '';
    //   Object.keys(obj).forEach(key => {
    //     newStr+=(key + obj[key]);
    //   })
    //   console.log(newStr);
    // }
    // console.log(stringRepeatCount('aabccbaaaa'));

    function compressString(str) {
      const length = str.length;
      if (length < 2) return str;
      let res = '';
      let count = 1;
      for (let i = 0; i < length; i++) {
        const char = str[i];
        if (char === str[i + 1]) {
          count++;
        } else {
          res+= char + (count === 1 ? '' : count);
          count = 1;
        }
      }
      return res.length < length ? res : str;
    }
    console.log(compressString('aabbccabbbcccaaabc'));
    
  </script>
</head>
<body>
  
</body>
</html>